include ../partials/sidemenu
link(rel='stylesheet', href='../stylesheet/admin/dashboard.css')
link(rel='stylesheet', href='../../../stylesheet/admin/sidemenu.css')
link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css", integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN", crossorigin="anonymous")
link(rel="stylesheet", href="../../../stylesheet/admin/category.css")

#content-wrapper
  .container
    .breadcrumb
      a(href='#') Dashboard
      |  &gt;
      a(href='#') Categories
      |  &gt;
      span Add Category

    .main-content.row
      .col-md-6
        .thumbnail
          label(for='upload')
          input(type='file' id='file-input' name='image')
          #image-container(style='height:90px; display:flex; ')
            .removeImg remove
            img(src=`${category.image.substring(2)}`)

      .col-md-6
        .general-info
          label Category Name
          input(type='text' name='name' value=`${category.name}` required)
          
          label Description
          textarea(type='text' name='description' placeholder=`${category.description}` value=`${category.description}` required)
          input#catId(type="hidden" value=category._id)

    .subcategories
      label.text-white Subcategories:
      #subcategory-list
        each subcategory in subcategories
          if subcategory.category.id == category.id
            .subcategory-item
              input(type='text', name='subcategories[]', value=`${subcategory.name}`, required='')
              button.remove-subcategory(type='button', onclick='removeSubcategory(this)') Remove
      button.add-subcategory(type='button', onclick='addSubcategory()') Add Subcategory

    .buttons
      button.btn.btn-secondary.cancel Cancel
      button.btn.btn-primary.add-category Add Category

script(src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js")
script(defer src="../../../script/admin/editCategory.js")
